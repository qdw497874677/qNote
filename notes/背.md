

## JDK

面向对象：封装。继承。多态：接口抽象类父类，覆写重写重载。重写和重载。多态怎么实现

抽象类和接口：

基本数据类型：8个 大小 范围

访问控制符：4个：public都可、protected不能不同包、defailt不能子类不能不同包、private只能同一个类内

内部类：成员、静态、方法、匿名

异常：错误。异常：受检和非受检

JDK8新特性：函数式接口，Lambda，流式编程

static：

final、finally、finalize：

Object：

==、eqauls、hashcode

包装类常量池：-128-127

序列化、克隆：

## JVM

类加载：5步。双亲委派

JVM内存中结构：5个。程序计数器、虚拟机栈、本地方法栈、堆、方法区

GC：重要特性。判断无用，根。标记-清除、复制、整理，基于对象特点分代。

经典过程：对象优先分配到伊甸园，大对象可直接分配到老年代（可设置参数）。年龄过阈值。动态年龄（幸存者同龄大于一半，年龄和以上直接到老年代）。分配担保：MinorGC前检查老年代大于年轻代才证明GC是安全的。如果年轻代大，就看是否设置了允许担保失败。如果允许继续检查老可用是否大于历届平均晋升，如果大就还尝试MinorGC，否则直接FullGC。

内存分配过程：

CMS：五步，两个STW：初始标，并发标，重新标，并发清，并发重置。缺点cpu敏感，浮动垃圾，碎片

G1：可以预测停顿时间，设置最大时间，根据价值维护区域优先队列。四步，三个stw：初始标、并发标、最终标、筛选回收

OOM：栈溢出、堆溢出、元空间溢出、直接内存溢出，不能创建新线程.

Jmap导出堆转储文件，或者打印GC信息包括那些区域GC了多少次

内存泄漏和溢出：溢出是什么，泄漏是什么，Threadlocal的虚引用key

## 操作系统

操作系统是什么：

什么是内核态用户态：

进程和线程的区别：进程是（本质，资源单位，包含多线程），线程是（调度执行单位，可以共享进程的公共资源），从四个方面说（资，调，销，通）

进程状态：五种（创建、就绪、运行、阻塞、终止），再引入挂起状态

进程通信：文件、**管道**：父进程到子进程建立，单向。**命名管道**：去除父子限制，消息队列，**信号量**，**共享内存**：分配空闲区域，把逻辑地址和物理内存的共享区域去映射，同步靠信号量，socket

进程调度算法：三种系统。交互系统：分时、优先级、多级反馈

内存管理：逻辑和物理，CPU需要虚拟地址值，MMU转换，过主线在内存中取返回。**连续内存分配**：空闲分区表：首次适配、最优、最差。**非连续内存分配**：**分段**：根据内容构成（栈堆程序数据代码），段表项base，limit。**分页**：内存分为大小同单元，逻辑页，物理帧，页表项：标志位帧号。段页。虚拟内存。内存置换算法

死锁：概念，4个必要条件。死锁预防（禁止一个必要条件）、避免（获取资源检测安全状态）、检测、消除

## JUC

Java线程状态之间的关系：6个状态（准备、运行、阻塞、等待、超时等待、终止）

线程安全：什么是。怎么保证安全。隔离（局部、TL）、共享区域加同步锁、乐观锁

线程怎么通信：通过访问公共变量（volatile、锁，原子类）、等待通知机制、join()方法、同步工具类

Java中有什么锁：宏观分类悲观乐观，悲观有：synchronized、lock。

CAS：是什么。ABA问题。解决。通过带时间戳的原子引用

aqs：是什么、数据结构、主要提供的方法、模板方法、需要子类实现的方法。

可重入锁大概实现：可重用实现，公平实现

synchronized：用在什么地方，进出，同步队列，等待通知模式。锁升级，四个状态，说怎么加锁解锁和场景

volatile实现：两个特性，每个特性的语义

线程池：大概描述。7个参数。流程。ctl。worker。复用关键方法。预热。关闭方法。

线程方法：sleep，yiled、join。Object方法：wait、notify、notifyAll

ThreadLocal：数据结构。解决内存泄漏。

## 集合

接口之间的关系：迭代器（Collection（List（ArrayList、LinkedList）、Set（HashSet、TreeSet）、Queue（Deque（ListedList、ArrayDeque）））、Map（HashMap、HashTable）、ConcurrentMap（ConcurrentHashMap）、SortedMap（TreeMap））

list：两个实现类，底层结构，区别，方法的时间复杂度，线程安全的

map：put，扩容，1.7.18区别

并发map：1.7put，扩容，size，1.8put，扩容，size

## MySQL

存储引擎区别：InnoDb支持事务，支持行锁，支持外键，支持索引

索引的分类：聚簇非聚簇，叶子节点不同

索引的结构：B+树特点，多路查找树，非叶子只存索引建，叶子节点相连

优化：什么时候用索引，不用索引，索引失效的情况，要注意地：最左，联表，前缀索引。检查执行计划

事务特性：A原子性：redologundo、C一致性、I隔离性：MVCC和锁、D持久性：redolog。

事务隔离级别：四个：未提交读、已提交读能解决脏读、可重复读解决不可重复读和部分幻读、串行化解决幻读，意思，不能避免什么问题，InnoDB怎么实现

锁

MVCC

explain：可以帮助选择建更合适索引。type：system > const > eq_ref > ref > range > index > ALL。key：实际用到的索引。Extra：额外信息。Using filesort：用没用到外部排序

## 网络

OIS7层协议

TCPIP5层协议：应用、传输、网络、数据链路、物理

dns：服务器：本地、根、顶级、权限

http：结构：请求行（相应行）、头部字段、空格、请求（响应）主体

https：1.发连，版本，加密法 2. 服发证书公钥 3.验证生成会话密钥。4验证密钥开始使用

TCP：和UDP区别 三次挥手 四次握手 保证可靠 流量控制 拥塞控制

getpost：功能、数据位置、回退、参数缓存、传输量

cookie session ：

token

## Redis

5大基本数据类型、底层结构、bitmap

持久化：快照，AOF。AOF重写

键过期：

内存淘汰策略：报错、普通lru、过期lru、普通随机、过期随机、过期ttl、普通lfu、过期lfu。lru原理，8位时钟，采样删除。

穿透（访问不存在值）、击穿、雪崩（做高可用、提高性能）

## Spring

IOC：类之间的依赖关系解耦。

AOP：动态代理。基于接口、基于多态继承，重写回调。拦截器链。

事务

## IO模型

阻塞非阻塞：被调用者是否直接返回

同步异步：调用者是否需要等待结果

四个模型：BIO（同步阻塞）NIO（同步非阻塞）AIO（异步非阻塞）

## 消息队列

队列模型

发布订阅模型：生产者发布、消费者订阅、broker把消息放置到主题中，主题分为多个分区，分区内消息有序。让不同消费者组消费，可以消费多次，通过每个消费者组维护的标记。组内的消费者可以并发消费不同的分区。

3种问题：消息丢失：三个阶段分析、确认。重复消费：几个级别。消息积压：分析问题消费还是生产

## Thrift



## 项目

服务：CMS项目。APP后端中的一个内容分发的服务。

背景：融合其他APP，对两个系统做改动、个人中心改版、排序新需求

做的：兼容接口，改sql，重写针对客户端某块内容处理的业务块，埋点问题，气泡问题，