# 介绍

## 自我介绍

我叫权大玮，今天24岁，目前是西北大学研三的学生，我本科也是在西北大学，专业都是软件工程，方向做的是为数据中心网络中的请求设计调度策略。平时编程用于用的相对多的就是java，目标工作岗位就是后端开发。在北京的小米金融有三个多月的实习，岗位就是后端开发。主要参与的项目就是小米金融APP的后端和APP的CMS内容管理系统的后端。

我家是天津，老家是山西，因为我在西安也上学呆了7年了，也有点感情，希望以后能留在西安在西安发展。

My name is Quan Dawei, 24 years old today。i come from tianjin。im a Graduate student at Northwest University in xian。My major is software enginiiering. I worked as an intern in Xiaomi for 3 months and I learned a lot.Thanks for xiaomi's help.i have been in xian for seven years.I hope to stay in Xi 'an in the future

中兴偏国企，华为偏私企。中兴和华为都是难兄难弟，都被美国制约制裁过

### 遇到技术困难咋办

1. 先查资料，百度、博客
2. 问同事，看看有没有遇到过，接触过，给一个建议

怎么看待华为

不管是美国制裁还是疫情，今年真的挺难得，希望中国的高科技企业能够挺下来，发展起来，尽早能摆脱尖端科技对外界的依赖，要转型让更多企业走到生产链条的上游，

### 自己的优势

- 对业务的理解能力比较快，学习能力还算是挺好的。我只能说我现在定位业务中的问题比同事快。
- 我的工作中的态度是比较积极的，有一些潜在问题我会主动推进，跟人去沟融，把这个问题暴露出来，要不然总憋在自己这很不舒服。然后像有些没有解决的事我都会记得很清楚，因为没处理完会觉得之后肯定会更麻烦，所以就希望尽早解决。
- 对有些事比较较真，自己没说服自己之前就总去问。
- 然后我在工作中的交流还是比较有调理的

### 劣势

我不太会当众说很多，人很多会有点小紧张，尤其是在自己准备了点但是明显不充分的时候。

### 遇到的挫折

最近的话应该是疫情期间在家里准备找实习的时候，发现需要学的东西越来越多，因为可能当初对整个后端开发的轮廓不是很清晰，然后也低估了做这个岗位的门槛，以为毕竟实习嘛。但是实际上还是欠缺一些专业知识的，所以就一边面一边学，但是到后来的话就是越战越勇了。



### 未来规划

首先我目前能想到的就是去学习，积累，首先在技术上要真正的扎实，能达到轻松应对业务，分析问题要快要准。其他就是要在编码之外的积累，比如提高处理关系的能力，提高协调事件的能力，然后去学习一些产品相关的知识。

### 兴趣爱好

- 比较喜欢电子产品，相关的产品评测开箱什么的比较感兴趣，比较关注相关的新闻。
- 对主机游戏和桌游都比较有好感。桌游虽然玩的不多，但是很喜欢不多的几次桌游经历，自己也买了一些入门的作品，和同学在学校偶尔会开个局。桌游有：风声，盗梦都市，犯罪现场，宝石商人（资源管理）。
- 喜欢看电影美剧。还记得的比较喜欢的美剧：生活大爆炸，废柴联盟，守望者，鬼入侵，传教士（坚持，友谊，内疚，反套路，黑色幽默，封测，节奏吸引人）

## 实习项目

我主要接触的是两个项目，一个是app的api后端和service后端；一个是CMS系统的api后端和service后端。app的后端就是负责所有app的内容下发，包括app中的一些资源位的下发（来自CMS系统控制的数据库），和用户信息的下发（一些其他业务的调用和一些信息的缓存）。

- 运营通过CMS系统可以控制APP各个tab页面包括弹窗、开屏、底tab的大部分可配置内容，一般是组件的相对顺序和资源组件的内容。
  - 为一个模块**新增内容**，为内容设置过滤条件和模块自身特殊的配置规则（跳转连接，图片等等）。
  - 更改模块之间的是否显示和**相对顺序**
  - 复制一个内容到其他允许**复制**的模块中
    - 获取内容id对应的内容的模块类型，根据类型从库中查出所有相同类型的模块信息（模块信息可通过模块类型和页面id和appId来确定唯一性），去查用户的角色权限，比对appId和页面Id的权限是否符合，然后把可操作的模块过滤出来，返回给前端
    - 前端把对应用户的选择发给后端，后端把目标内容状态置为准备状态，进行插入对应的app和页面数据里。
  - 将修改的内容**发布上线**：
    - 如果内容没有设置用户集且第一次发布上线，
    - 如果有配置用户集，需要发送到消息队列处理
    - 对于内容生效时间比当前时间晚的内容的处理，
- C端服务端通过CMS配置的模板对整个APP需要下发的数据进行汇总处理。C端有一个组件处理模块，根据运营所选择配置的组件信息进行不同的处理，将所有组件汇总放到对应页面的items里。
  - 可以对CMS中每一个配置好的组件内容进行处理：匹配用户集，匹配设备，匹配用户个性配置、匹配地区
    - 用户特殊配置的匹配：看看是否有内容需要针对当前请求的用户做特殊处理。
      - 1.**检查是否需要用户特殊配置**。遍历所有内容，先判断组件是否需要用户集匹配（用户集是在配置的时候上传的，根据模块类型和内容id区分缓存在Redis中，在Redis中是以bitmap来存储的）。然后在缓存中查找是否存在用户id或者设备id。如果需要就取出用户集配置。
      - 2.**取用户特殊配置**。根据用户id和设备id从缓存中取，缓存没有从hbase取并加入缓存。
      - 3.根据特殊配置匹配内容是否要加入结果中。
    - 用户状态的匹配：每个content内容可以设置：登录可见、理财新用户可见、贷款新用户可见
    - 设备匹配：
  - 根据需要对用户行为进行收集。
  - 将异步调用的操作位置优化

用到Redis的地方

- 底部tab的气泡：每一次配置气泡内容都会生成一个新的气泡id。要求每个气泡在未登录情况下每台机器只显示一次，登录情况下每个用户只显示一次。每个气泡id对应设备id或者用户id的状态存放在Redis里，如果取到的气泡id不再缓存就设置缓存状态为否。作用：修改气泡后让其重新在底tab显示；
- 用户优惠券过期状态：Redis中存放用户id+所有优惠券中最远的即将过期时间，
- 话题pk模块：话题的左右观点缓存在Redis中。计算对应的比例，组成模块的数据。
  - 提供刷新缓存的服务：把数据库的话题pk信息放入redis

简要说做的两件事

- 融合项目
  - 为多个新增的app客户端提供接口。这些接口就是提供在之前金融app的项目中。
  - 同时新增了页面中的一些模块。去设计和修改这些新接口，重新写业务，并且抽象出一些东西，整体结构更方便之后维护和去做配置调整。有一些其他业务方提供的接口的返回结果不满足新需求了，就要商量新的接口的需求。新接入的接口需要去对接密钥，用iauth去做验证。
  - api服务和rpc服务相关调用的方法和CMS数据库的表都要做修改，来满足多个app共用的需求。同时有些数据写死的数据需要根据需求给新增的app加好。
- CMS的新需求
  - 模块在页面中的位置可配置
  - 用户设备匹配配置
  - 编辑内容根据权限可以复制到对应其他模块的功能

### 困难

- 理解业务
  - 左心功能
- 上线比较繁琐
  - 新增功能
- 第一次上线
  - C端项目中，存在
- 依赖问题
  - 简写：修改提供rpc接口的一个服务和对应的thrift，在增加新的业务类型的优惠券汇总，测试环境
  - 写一个汇总优惠券的接口，这个接口在提供服务的一个服务里。后端的api服务rpc调用这个接口，然后http接口暴露出去。有一个需求是加一个支付业务那边的优惠券。这个枚举是加在thrift里的。测试环境都好着，因为引的依赖都是测试包。线上的api服务的依赖没有更新。
- 依赖冲突
- 历史问题



### 难点

- 然后就是熟悉业务的过程，我刚来就已经是很需要人手，开始在一知半解的情况下，对新需求的的推进不利
- 刚上线的时候，感觉相对繁琐一些，多个相互调用的项目上线，还涉及到依赖包的改动。
- 我们的项目设计连接了很多其他部门的接口，新版本会发现一些历史问题，之前的负责这系统的老人也不在。需要和不同部门的协调，刚开始对于除了问题是不是全是我们的问题，不是去找谁，要怎么去沟通现在问题，要怎么去协调要搞清楚。

### 有什么可以改进的地方

- 做了一些和产品没有交流好的功能
- 

### 实习学到了什么

1. 写业务更熟练，太复杂的也没交给我。更熟练的去用一些Java8的新特性，比如函数式编程与Map结合减少ifelse。提升了一些查找问题解决问题的能力。之前是没有什么找线上问题的经验。代码量还是有的，熟能生巧
2. 了解了一些代码开发中的团队合作，包括提交合并项目代码，上线流程，
3. 对于企业开发的大概流程有了了解，体验了一下互联网行业的快节奏工作生活
4. 学会处理人际关系，有点这个工作的人情世故的经验，然后做事要界限明确。我们部分属于那种偏联系的，接入的部门联系比较多。尽量快速确定关键点，然后问的时候多找几个见证的。
5. 对工作有个一个更详细的规划，更好把控自己的工作量，其实是跟学习也是类似的。

 

### Thrift







### Hystrix

熔断

给对其他业务提供的http接口的调用配置一些信息，比如超时时间，故障的处理（比如10s内50%出错就熔断5秒，之后放出一部分请求试探）





### 怎么做沟通





## 博客项目

有一些基本的功能，展示博文列表，编辑和删除博文，这些主要包括设计表结构，处理表关系。之后用websocket做了个简单的聊天室功能。然后就是引入Redis作了一些缓存。





## 反问

问一下面试流程

问一下什么部门，主要的业务是什么

问一下面试的问题

问一下技术栈

问一下平时啥工作时间

# 单选题

> 关系代数运算中，五中基本运算为

并、差、交、选择、投影

> 以下关于设计模式的说法中正确的是：D
>
> A. 相对于工厂模式，抽象工厂不需要新的类只需要新的实现
>
> B. 适配器模式和桥接模式都用于兼容已设计的不兼容类的同时工作
>
> C. 观察者模式可用于对不一致状态的目标发送消息
>
> **D. 迭代器模式的实现中通常需要实现空迭代器**





# 概率题

## 1

> 猿辅导公司某研发小组一共有 12 名同学，其中 9 人能做后端开发，6 人能做前端开发。现在要抽调 4 名同学成立项目小组，负责公司的一项“机密”项目。其中 2 名同学做后端开发，2 名同学做前端开发。有多少种选派方法？

(1)只会后端:6个人；

(2)只会前端:3个人；

(3)既会后端又会前端:3个人;

一.从(1)和(2)分别挑两个人，C(2,6)*C(2,3)=15*3=45;

二.从(3)挑1个放前端，有C(1,3)*C(1,3)*C(2,6) = 135;挑一个放后端,有C(1,3)*C(1,6)*C(2,3)=54;

三.从(3)挑2个放前端,有C(2,3)*C(2,6)=45;挑2个放后端,有C(2,3)*C(2,3)=9;1前1后，有C(2,3)*C(1,2)*C(1,3)*C(1,6)=108;

四.从(3)挑2前端,1后端,C(2,3)*C(1,6)=18;1前端,2后端,有C(2,3)*C(1,3)=9;

全部相加:45+135+54+45+9+108+18+9=423



## 2

> 猿辅导公司某部门月会上，有 5 名同学在依次领取入职周年的礼物，一束鲜花。HR 共准备有 5 种不同颜色的鲜花供他们挑选。则有且仅有两名同学挑选了相同颜色的鲜花的概率是多少？

共有5 * 5 * 5 * 5 * 5=3125种情况，每个人可能选的花色有5种

再算有且只有两个人选同一种颜色的情况， 

1.选出两个人C52=10; 

2.选同一种颜色有5种情况; 

3.其他3个人从剩下4种颜色选：4 * 3 * 2=24. 

共有10 * 5 * 24=1200 概率为1200/3125=48/125.

# 智力题

## 赛马

> 25匹马，5个跑道，最少需要比赛多少场就能决出前三名

1. 5匹为一组。每组前三名都有可能是前三，剩下的排除，**剩15匹马。赛5场。**
2. 每个小组的第一名放在一起比赛。第一名肯定是第一，排除，**剩14匹马。赛1场。**
3. 2比赛中第一名所在组的二、三名有可能是前三，剩下的排除-2。2比赛中第二名所在组的第二名可能是最后第三名，第三名之后排除-3。2比赛中第三名所在组，除了第一，别的都要排除-4。**剩5匹马**
4. 5匹马正好可以比一次，找出第二名和第三名。**赛1场。**

最少赛5场就可以找出前三。



## 海盗

> 5个海盗分100个金币，如果一个人提出的分配方案得到半数以上（含半数）的统一就执行，否则处死第一个人，再由第二个人提方案。第一个人怎么提方案可以获得最大利益，又不会被处死。每个人都会理性的追求最大利益。

从后向前推

- 假如最后只剩下4和5，此时是4提方案，4肯定会提100，0。这样5肯定拿不到钱，所以他也需要3活着。方案为：100，0。
- 3号提方案时，知道5号只能拿0，所以给5号1来拉拢，5必须接受因为3死了自己只能拿到0。方案为：99，0，1。
- 2号知道3号给4号0，所以给4号1来拉拢。方案为：99，0，1，0。
- 1号知道2号要分给3和50，所以要给3和5分别1来拉拢。方案为：98，0，1，0，1。



## 12小球称重

> 12个小球，其中一个质量不均匀，现有一个无砝码的天平，请问怎么在3次称重内确定有问题的小球？

说先把小球分为三组，每份四个。（1、2、3、4）（5、6、7、8）（9、10、11、12）。拿出前两组放在天平两侧。用C表示正常球。

- 天平平衡：说明这八个小球是正常的。目标球在第三组中（9、10、11、12）。接下来把第三组拿出一个加上三个正常球作为一组放在左边，剩下两个加上两个正常球放在右边。（9、10、11）（C、C、C）
  - 天平平衡：说明12是目标小球
  - 天平一高一低：把左边中两个比较大小。（9）（10）
    - 天平平衡：说明11是目标球。
    - 天平一高一低：在上一步（9、10、11）如果低，这次低的球为目标；如果上一步（9、10、11）高，则这次高的球为目标。
- 天平一高一低：目标在这个8个里面，另外4个是正常的。接下来把天平两边放（1、6、7、8）（5、C、C、C），即把右边的三个替换左边的三个，右边空的三个用正常球补上。
  - 天平平衡：说明目标在（2，3，4）中。接下来天平两边放（2）（3）
    - 天平平衡：4为目标球。
    - 天平一高一低：如果之前（1，2，3，4）所在的边如果高，那么这次高的就是目标球；上次如果低，这次低的为目标球。
  - 天平一高一低：如果上一次左边高，这次也左边高，说明1比较轻；如果上一次左边高，这次右边高，说明目标球在移到左边的三个中（6，7，8）。接下来天平两边各放一个（6）（7）
    - 天平平衡：8为目标球。
    - 一高一低：如果之前（6，7，8）是低的，那这次低的为目标；如果之前（6，7，8）是高的，那这次高的为目标。



