

## 微服务

### 什么是

将单体应用分成一组小型服务。每个小型服务运行在自己的进程中，之间通过轻量级机制通信（HTTP REST API）。这些服务都是围绕业务建立的，可以独立开发（可用不同语言实现，存储不同数据），独立部署。

## RPC

远程调用过程

![img](微服务.assets/7632302-ca0ba3118f4ef4fb.png)



网络通信过程中，如果使用应用层的HTTP，那么代价会比较高，所以一般直接基于TCP进行远程调用，在客户端和服务器端建立Socket链接进行。

### 为什么用微服务

- 有更好的可扩展性：分为三个维度

  - 水平可扩展：部署了一个服务，可以通过部署在多台服务器，增加性能
  - 业务可扩容：把多个业务中的通用的业务提取成服务，把不同的业务提取成为多个服务，来与公共服务连接
  - 数据可扩展：每个服务可以只使用自己需要的数据来源

- 独立发布和部署

- 独立开发：每个服务可以使用独立的技术栈来开发

- 优雅降级：如果单个服务崩溃，影响会比较小，提高整机的健壮性

  





## Thrift

#### 安装



#### 使用

- 编写IDL文件
- 编译生成代码
- 服务器重载实现接口
- 实现服务端和客户端









